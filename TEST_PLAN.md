# RacePredictor テスト計画書

## 📋 テスト概要

フロントエンドアクセス問題解決後の包括的な機能テスト計画です。

### 🎯 テスト目標
- 全機能の正常動作確認
- エラーハンドリングの検証
- ユーザーエクスペリエンスの確認
- レスポンシブデザインの検証

### 🌐 テスト環境
- **フロントエンド**: http://localhost:3000
- **バックエンド**: http://localhost:8000
- **ブラウザ**: Chrome, Firefox, Safari, Edge
- **デバイス**: デスクトップ、タブレット、モバイル

---

## 🔐 1. 認証フローのテスト

### 1.1 新規登録テスト

#### テスト手順
1. http://localhost:3000/register にアクセス
2. 以下の情報を入力：
   - 名前: "テストユーザー"
   - メール: "test@example.com"
   - パスワード: "Test123!"
   - パスワード確認: "Test123!"
3. 「登録」ボタンをクリック
4. 成功メッセージとダッシュボードへのリダイレクトを確認

#### エラー確認ポイント
- [ ] バリデーションエラーの表示
- [ ] 重複メールアドレスのエラー
- [ ] パスワード強度チェック
- [ ] ネットワークエラーの処理
- [ ] ローディング状態の表示

#### 期待結果
- ✅ 登録成功後、ダッシュボードにリダイレクト
- ✅ 成功トーストが表示される
- ✅ ヘッダーにユーザー名が表示される

### 1.2 ログインテスト

#### テスト手順
1. http://localhost:3000/login にアクセス
2. 登録したメールアドレスとパスワードを入力
3. 「ログイン」ボタンをクリック
4. ダッシュボードへのリダイレクトを確認

#### エラー確認ポイント
- [ ] 無効な認証情報のエラー
- [ ] 空フィールドのバリデーション
- [ ] ログイン失敗時のメッセージ
- [ ] セッションタイムアウトの処理

#### 期待結果
- ✅ ログイン成功後、ダッシュボードにリダイレクト
- ✅ 認証状態が保持される
- ✅ 保護されたページにアクセス可能

### 1.3 ログアウトテスト

#### テスト手順
1. ログイン状態でヘッダーの「ログアウト」をクリック
2. ログインページにリダイレクトされることを確認
3. 保護されたページにアクセスできないことを確認

#### 期待結果
- ✅ ログアウト成功
- ✅ ログインページにリダイレクト
- ✅ 認証が必要なページにアクセス不可

---

## 🏃‍♂️ 2. 練習記録CRUDのテスト

### 2.1 練習記録一覧表示テスト

#### テスト手順
1. http://localhost:3000/workouts にアクセス
2. 練習記録一覧が表示されることを確認
3. ページネーション機能をテスト
4. フィルタリング機能をテスト

#### エラー確認ポイント
- [ ] データ読み込みエラー
- [ ] 空の状態の表示
- [ ] ページネーションエラー
- [ ] フィルタリングエラー

#### 期待結果
- ✅ 練習記録一覧が正常に表示
- ✅ ページネーションが動作
- ✅ フィルタリングが機能

### 2.2 練習記録作成テスト

#### テスト手順
1. 「新しい練習記録」ボタンをクリック
2. 以下の情報を入力：
   - 日付: 今日の日付
   - 練習種別: "ジョギング"
   - 距離: 5.0 km
   - 時間: 30分
   - 強度: 3
   - メモ: "テスト練習"
3. 「保存」ボタンをクリック

#### エラー確認ポイント
- [ ] 必須フィールドのバリデーション
- [ ] 数値フィールドのバリデーション
- [ ] 日付のバリデーション
- [ ] 保存エラーの処理

#### 期待結果
- ✅ 練習記録が正常に作成される
- ✅ 一覧に新しい記録が表示される
- ✅ 成功トーストが表示される

### 2.3 練習記録編集テスト

#### テスト手順
1. 作成した練習記録の「編集」ボタンをクリック
2. 距離を 10.0 km に変更
3. 「保存」ボタンをクリック

#### 期待結果
- ✅ 編集が正常に保存される
- ✅ 一覧に変更が反映される

### 2.4 練習記録削除テスト

#### テスト手順
1. 練習記録の「削除」ボタンをクリック
2. 確認ダイアログで「削除」を選択

#### 期待結果
- ✅ 削除が正常に実行される
- ✅ 一覧から記録が削除される
- ✅ 削除確認ダイアログが表示される

---

## 🏁 3. レース結果管理のテスト

### 3.1 レース結果一覧テスト

#### テスト手順
1. http://localhost:3000/races にアクセス
2. レース結果一覧が表示されることを確認
3. ベストタイムの表示を確認

#### 期待結果
- ✅ レース結果一覧が正常に表示
- ✅ ベストタイムが正しく表示

### 3.2 レース結果作成テスト

#### テスト手順
1. 「新しいレース結果」ボタンをクリック
2. 以下の情報を入力：
   - レース名: "テストマラソン"
   - 日付: 今日の日付
   - 距離: 42.195 km
   - タイム: 3時間30分
   - 順位: 100位
3. 「保存」ボタンをクリック

#### 期待結果
- ✅ レース結果が正常に作成される
- ✅ 一覧に新しい記録が表示される

---

## 📊 4. CSVインポートのテスト

### 4.1 ファイルアップロードテスト

#### テスト手順
1. http://localhost:3000/import にアクセス
2. テスト用CSVファイルをドラッグ&ドロップ
3. ファイルが正常にアップロードされることを確認

#### エラー確認ポイント
- [ ] 無効なファイル形式のエラー
- [ ] ファイルサイズ制限のエラー
- [ ] アップロード失敗の処理

#### 期待結果
- ✅ ファイルが正常にアップロードされる
- ✅ プレビュー画面に遷移する

### 4.2 CSVプレビューテスト

#### テスト手順
1. アップロード後、プレビュー画面でデータを確認
2. エンコーディングが正しく検出されることを確認
3. データの妥当性を確認

#### 期待結果
- ✅ CSVデータが正しく表示される
- ✅ エンコーディングが適切に検出される

### 4.3 CSVインポート実行テスト

#### テスト手順
1. プレビュー画面で設定を確認
2. 「インポート実行」ボタンをクリック
3. インポート結果を確認

#### 期待結果
- ✅ インポートが正常に完了する
- ✅ 練習記録一覧にデータが追加される

---

## 📈 5. ダッシュボードのテスト

### 5.1 統計表示テスト

#### テスト手順
1. http://localhost:3000/dashboard にアクセス
2. 統計カードが表示されることを確認
3. 各統計値が正しく計算されることを確認

#### 期待結果
- ✅ 統計カードが正常に表示
- ✅ 数値が正しく計算される

### 5.2 チャート表示テスト

#### テスト手順
1. 週間活動チャートを確認
2. チャートのインタラクションをテスト
3. データの可視化を確認

#### 期待結果
- ✅ チャートが正常に表示される
- ✅ インタラクションが機能する

### 5.3 最近の活動テスト

#### テスト手順
1. 最近の練習記録リストを確認
2. 各記録の詳細を確認

#### 期待結果
- ✅ 最近の活動が正しく表示される
- ✅ 詳細情報が正確である

---

## 🚨 6. エラーハンドリングのテスト

### 6.1 ネットワークエラーテスト

#### テスト手順
1. バックエンドを停止
2. フロントエンドでAPI呼び出しを実行
3. エラーメッセージの表示を確認

#### 期待結果
- ✅ 適切なエラーメッセージが表示される
- ✅ ユーザーフレンドリーなエラー画面

### 6.2 バリデーションエラーテスト

#### テスト手順
1. 無効なデータでフォーム送信
2. バリデーションエラーの表示を確認

#### 期待結果
- ✅ フィールド別のエラーメッセージ
- ✅ エラーの視覚的表示

### 6.3 認証エラーテスト

#### テスト手順
1. セッションを無効化
2. 保護されたページにアクセス
3. ログインページへのリダイレクトを確認

#### 期待結果
- ✅ 認証エラーが適切に処理される
- ✅ ログインページにリダイレクト

---

## 📱 7. レスポンシブデザインのテスト

### 7.1 デスクトップテスト

#### テスト手順
1. デスクトップサイズ（1920x1080）でテスト
2. 全機能の表示を確認

#### 期待結果
- ✅ 全機能が正常に表示される
- ✅ レイアウトが適切である

### 7.2 タブレットテスト

#### テスト手順
1. タブレットサイズ（768x1024）でテスト
2. タッチ操作をテスト

#### 期待結果
- ✅ タブレット用レイアウトが適用される
- ✅ タッチ操作が機能する

### 7.3 モバイルテスト

#### テスト手順
1. モバイルサイズ（375x667）でテスト
2. モバイル用UIをテスト

#### 期待結果
- ✅ モバイル用レイアウトが適用される
- ✅ タッチ操作が最適化される

---

## 🔧 8. パフォーマンステスト

### 8.1 ページロード時間テスト

#### テスト手順
1. 各ページのロード時間を測定
2. 3秒以内のロードを確認

#### 期待結果
- ✅ 全ページが3秒以内にロード
- ✅ スムーズなナビゲーション

### 8.2 API応答時間テスト

#### テスト手順
1. API呼び出しの応答時間を測定
2. 1秒以内の応答を確認

#### 期待結果
- ✅ API応答が1秒以内
- ✅ タイムアウトエラーが発生しない

---

## 📋 テスト実行チェックリスト

### 事前準備
- [ ] バックエンドが起動している
- [ ] フロントエンドが起動している
- [ ] テスト用データベースが準備されている
- [ ] テスト用CSVファイルが準備されている

### テスト実行
- [ ] 認証フローのテスト
- [ ] 練習記録CRUDのテスト
- [ ] レース結果管理のテスト
- [ ] CSVインポートのテスト
- [ ] ダッシュボードのテスト
- [ ] エラーハンドリングのテスト
- [ ] レスポンシブデザインのテスト
- [ ] パフォーマンステスト

### テスト完了後
- [ ] テスト結果の記録
- [ ] 発見された問題の報告
- [ ] 修正が必要な項目の整理

---

## 🐛 よくある問題と対処法

### 1. 認証エラー
- **問題**: ログインできない
- **対処**: バックエンドの認証APIを確認

### 2. API接続エラー
- **問題**: データが読み込めない
- **対処**: バックエンドの起動状態を確認

### 3. CSVインポートエラー
- **問題**: ファイルがアップロードできない
- **対処**: ファイル形式とサイズを確認

### 4. レスポンシブ表示問題
- **問題**: モバイルで表示が崩れる
- **対処**: CSSのメディアクエリを確認

---

## 📊 テスト結果記録

### テスト実行日: ___________
### テスト担当者: ___________

| 機能 | テスト結果 | 問題 | 修正状況 |
|------|------------|------|----------|
| 認証フロー | ✅/❌ | | |
| 練習記録CRUD | ✅/❌ | | |
| レース結果管理 | ✅/❌ | | |
| CSVインポート | ✅/❌ | | |
| ダッシュボード | ✅/❌ | | |
| エラーハンドリング | ✅/❌ | | |
| レスポンシブデザイン | ✅/❌ | | |
| パフォーマンス | ✅/❌ | | |

### 総合評価: ___________
### 次のアクション: ___________
